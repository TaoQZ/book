# 线程同步

进程之间不能共享数据,但是线程可以

如果多个线程操作同一个变量会引发安全问题,使用经典的卖票案例

# 正在更新....

# 案例

## 定时器

```java
public class MyTimer extends Thread{

    // 获得输入的字符串转换后的时间,设置为成员变量供run()使用
    private LocalDateTime dateTime;
    public MyTimer(LocalDateTime parse) {
        this.dateTime = parse;
    }

    // 主要执行的任务类,循环判断当前时间是否与输入时间相等
    @Override
    public synchronized void run() {
        while (true){
            // 如果输入时间在当前时间之后
            if (dateTime.isAfter(LocalDateTime.now())){
//                相等
                if (LocalDateTime.now().equals(dateTime)){
                    System.out.println(LocalDateTime.now()+"该起床了!!!");
                    return;
                }
            }else {
                System.out.println("您输入的时间不合法");
                return;
            }
        }
    }

    // 封装为
    public static void timer(String time) {
        // 将输入的时间字符串按照指定的格式进行转换
        LocalDateTime parse = LocalDateTime.parse(time, DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));
        // 创建对象开启线程(定时器)
        MyTimer myTimer = new MyTimer(parse);
        myTimer.start();
    }

    public static void main(String[] args) {
        MyTimer.timer("2020-03-24 18:24:30");
    }
}
```

